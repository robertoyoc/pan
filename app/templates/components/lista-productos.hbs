<div class="card-content">
    <h5>Agregar productos al nuevo reparto</h5>
    <br>
    <div class="row">
        {{#power-select 
            options=productos selected=selectedProducto 
            onchange=(action (mut selectedProducto)) searchPlaceholder="Escribe
            para buscar" placeholder="Escribe para buscar" searchField='nombre' as |mprima|}} {{mprima.nombre}} 
        {{/power-select}}
    </div>

    {{#if selectedProducto}}
        <div class="row">
            <div class="col m12">
                {{#m-wrapper query='chip' method='material_chip' class='valign-wrapper' }}
                <div class="chip">
                    {{selectedProducto.nombre}}
                    <i {{action 'changePrima'}} class="close-notclose material-icons">
                        close
                    </i>
                </div>
                {{/m-wrapper}}
            </div>
            <div class="col m12">
            <h6>AÃ±adir: </h6>
            </div>

            <div class="input-field col m12">
                {{input id="cantidad" type="number" class=valid value=cantidad}}
                <label for="cantidad" data-error="Contamos solo con {{cantidadMax}} en stock" style="width:100%">Cantidad</label>
            </div>
            <div class="col m12">
                {{pluralize cantidad "unidad" without-count=true}} al reparto
            </div>
        </div>
    {{/if}}
    
</div>
<div class="card-action">
    <center>
        <a {{action 'agregar' selectedProducto cantidad}} class="waves-effect waves-light btn {{if (or disabledAgregar (v-get this 'cantidad' 'isInvalid')) 'disabled'}}">Agregar</a>
    </center>
</div>